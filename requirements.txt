# Core ML Dependencies with specific versions for compatibility
torch>=2.2.0,<2.3.0
torchaudio>=2.2.0,<2.3.0
torchvision>=0.17.0,<0.18.0

# Transformer and Model Libraries
transformers>=4.37.0,<4.39.0  # Pin to a version known to work with Phi-3
sentencepiece>=0.1.99  # Required for tokenizers
accelerate>=0.25.0
bitsandbytes>=0.41.0  # Required for 4-bit quantization

# For Apple Silicon (M1/M2) - use conda or install system dependencies
# Run: brew install cmake pkg-config

# Quantization (optional, uncomment if needed)
# bitsandbytes>=0.41.0  # Note: May require manual build on some systems

# For better performance on Apple Silicon
# pip install --pre torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/cpu

# Web Framework
fastapi>=0.95.0
uvicorn>=0.21.0
python-multipart>=0.0.6

# Security & Authentication
python-jose[cryptography]>=3.3.0
passlib[bcrypt]>=1.7.4

# Utilities
python-dotenv>=1.0.0
jinja2>=3.1.2
aiofiles>=23.1.0
numpy>=1.24.0